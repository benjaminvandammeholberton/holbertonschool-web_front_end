<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Task 5</title>
  </head>
  <body></body>
  <script>
    let availableItems = ["Shampoo", "Soap", "Sponge", "Water"];
    if (typeof localStorage === "undefined") {
      alert(
        "Sorry, your browser does not support Web storage. Try again with a better one"
      );
    } else {
      createStore();
      displayCart();
    }

    function addItemToCart(item) {
      localStorage.setItem(item, true);
    }

    function createStore() {
      const listItem = document.createElement("ul");
      document.body.appendChild(listItem);
      for (let item of availableItems) {
        const itemToAppend = document.createElement("li");
        itemToAppend.textContent = item;
        itemToAppend.addEventListener("click", () => {
          addItemToCart(item);
        });
        listItem.appendChild(itemToAppend);
      }
    }

    function displayCart() {
      let count = 0;
      for (let item of availableItems) {
        if (localStorage[item]) {
          count += 1;
        }
      }
      if (count > 0) {
        const para = document.createElement("p");
        para.textContent = `You previously had ${count} item${
          count === 1 ? "" : "s"
        } in your cart`;
        document.body.appendChild(para);
      }
    }
  </script>
</html>
